{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/bryanluo/Desktop/cs97/Nourish-CS97/nourish/src/Search.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport './App.css';\nimport Header from './header';\nimport Footer from './footer';\nimport Post from './post';\nimport './Upload.css';\n\nfunction Search(props) {\n  _s();\n\n  let postsToReturn = /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 23\n  }, this);\n\n  const [searchQuery, setSearchQuery] = useState([]);\n  const [searched, setSearched] = useState(false);\n\n  function onChange(event) {\n    let a = event.target.value;\n    let res = a.split(\" \").join(\"\").split(',');\n    let resNoDupes = [...new Set(res)];\n    setSearchQuery(resNoDupes);\n\n    if (event.target.value !== \"\") {\n      setSearched(true);\n    }\n  }\n\n  if (props.dataFromDB != null) {\n    console.log(\"not null\");\n    postsToReturn = props.dataFromDB.getPosts.filter(post => post.tags.some(i => searchQuery.includes(i))).map(post => /*#__PURE__*/_jsxDEV(Post, {\n      image: post.imageName,\n      title: post.title,\n      paragraph: post.caption,\n      tags: post.tags,\n      likes: post.likes.length,\n      comments: post.comments.length > 0 ? post.comments.map(comment => /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: comment.body\n      }, comment.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 86\n      }, this)) : \"\"\n    }, post.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 19\n    }, this));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"title\",\n        children: \"Enter Search:  \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        name: \"searchQuery\",\n        placeholder: \"Separate your searches by commas\",\n        value: searchQuery,\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), searched ? postsToReturn.length !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"feed\",\n      children: postsToReturn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Nothing to see here.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Enter your search.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Search, \"JKtElgWzpz0w1W6v2gjzhh6kdvI=\");\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["/Users/bryanluo/Desktop/cs97/Nourish-CS97/nourish/src/Search.js"],"names":["React","useState","Header","Footer","Post","Search","props","postsToReturn","searchQuery","setSearchQuery","searched","setSearched","onChange","event","a","target","value","res","split","join","resNoDupes","Set","dataFromDB","console","log","getPosts","filter","post","tags","some","i","includes","map","imageName","title","caption","likes","length","comments","comment","body","id"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport './App.css';\nimport Header from './header'\nimport Footer from './footer'\nimport Post from './post'\nimport './Upload.css'; \n\nfunction Search(props) {\n  let postsToReturn = <div></div>;\n\n  const [searchQuery, setSearchQuery] = useState([]);\n  const [searched, setSearched] = useState(false);\n\n  \n\n  function onChange(event){\n    let a = event.target.value;\n    let res = a.split(\" \").join(\"\").split(',');\n    let resNoDupes = [...new Set(res)];\n    setSearchQuery(resNoDupes);\n    if (event.target.value !== \"\"){\n      setSearched(true);\n    }\n  }\n\n\n  if(props.dataFromDB!=null){\n        console.log(\"not null\")\n            postsToReturn = props.dataFromDB.getPosts.filter((post)=>(post.tags.some(i => searchQuery.includes(i)))).map((post)=>(\n\n                  <Post image={post.imageName}\n                  title={post.title}\n                  paragraph={post.caption}\n                  tags={post.tags}\n                  likes={post.likes.length}\n                  comments={post.comments.length > 0 ? post.comments.map((comment)=>(<ul key={comment.id}>{comment.body}</ul>)) : \"\"}\n                  key={post.id}\n                  />\n      )); \n  }\n  return (\n    <div className=\"App\">\n        <Header />\n        \n        <div className=\"input-div\">\n            <label htmlFor='title'>Enter Search:  </label>\n            <input className=\"input\"\n              name='searchQuery'\n              placeholder='Separate your searches by commas'\n              value={searchQuery}\n              onChange={onChange}\n            />\n        </div>\n        {(searched)\n          ?(\n            (postsToReturn.length !== 0) \n            ?(<div className=\"feed\">\n                {postsToReturn}\n              </div>\n             )\n              \n            :(<div>\n              <h3>Nothing to see here.</h3>\n            </div>)\n             )\n          \n          :(<div>\n            <h3>Enter your search.</h3>\n          </div>\n          )\n        }\n        <Footer />\n    </div>\n  );\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}